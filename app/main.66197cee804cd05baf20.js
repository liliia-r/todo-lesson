(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{I:()=>v});var e="todos";function o(){var t=sessionStorage.getItem(e);return t?JSON.parse(t):[]}function n(){o().length?v.removeAttribute("disabled"):v.setAttribute("disabled","disabled")}var d=o(),i=function(t){var i=document.createElement("li");i.classList.add("todo-item");var s=document.createElement("span");s.innerText=t,s.classList.add("todo-text"),i.appendChild(s);var r=document.createElement("button");r.innerHTML='<i class="fas fa-check"></i>',r.classList.add("todo-check-button"),r.addEventListener("click",function(t){return function(n){n.preventDefault(),t.classList.toggle("todo-item_completed"),function(t){var n=o(),d=Array.from(t.childNodes).find((function(t){return t.classList.contains("todo-text")}));d&&n.forEach((function(t){t.whatToDo===d.innerText&&("uncompleted"===t.state?t.state="completed":t.state="uncompleted")})),sessionStorage.setItem(e,JSON.stringify(n))}(t)}}(i)),i.appendChild(r);var a=document.createElement("button");return a.innerHTML='<i class="fas fa-trash"></i>',a.classList.add("todo-remove-button"),a.addEventListener("click",function(t){return function(i){i.preventDefault(),t.classList.add("todo-item_fall"),t.addEventListener("transitionend",(function(){!function(t){var n=o(),d=Array.from(t.childNodes).find((function(t){return t.classList.contains("todo-text")}));if(d){var i=n.filter((function(t){return t.whatToDo!==d.innerText}));sessionStorage.setItem(e,JSON.stringify(i))}}(t),0===d.length&&n(),t.remove()}))}}(i)),i.appendChild(a),i};function s(t){return{todoInput:t.querySelector(".todo-input"),todoHelper:t.querySelector(".todo-helper"),todoButton:t.querySelector(".todo-button")}}function r(t){var e=s(t),o=e.todoInput,n=e.todoHelper;o.value.length>=3?n.classList.remove("todo-helper_visible"):n.classList.add("todo-helper_visible")}function a(t){var e=s(t),o=e.todoInput,n=e.todoButton;o.value.length>=3?n.classList.remove("todo-button_disabled"):n.classList.add("todo-button_disabled")}var l=document.querySelector(".todo-input-wrapper"),c=s(l),u=c.todoInput,f=c.todoButton,p=document.querySelector(".todo-list"),v=document.querySelector(".todo-select");document.addEventListener("DOMContentLoaded",(function(){o().forEach((function(t){var e=i(t.whatToDo);"completed"===t.state&&e.classList.add("todo-item_completed"),p.appendChild(e)})),n(),a(l)})),u.addEventListener("input",(function(){return a(l)})),u.addEventListener("focus",(function(){return r(l)})),u.addEventListener("blur",(function(){return function(t){s(t).todoHelper.classList.remove("todo-helper_visible")}(l)})),u.addEventListener("input",(function(){return r(l)})),f.addEventListener("click",(function(t){t.preventDefault(),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uncompleted",d=o();d.push({whatToDo:t,state:n}),sessionStorage.setItem(e,JSON.stringify(d))}(u.value);var n=i(u.value);p.appendChild(n),function(t){var e=s(t),o=e.todoInput,n=e.todoHelper,d=e.todoButton;o.value="",d.classList.add("todo-button_disabled"),n.classList.add("todo-helper_visible")}(l)})),f.addEventListener("click",n),v.addEventListener("change",(function(t){var e,o;e=p.childNodes,o=t.target.value,e.length&&e.forEach((function(t){switch(o){case"completed":t.classList.contains("todo-item_completed")?t.style.display="flex":t.style.display="none";break;case"uncompleted":t.classList.contains("todo-item_completed")?t.style.display="none":t.style.display="flex";break;default:return void(t.style.display="flex")}}))})),u.addEventListener("keypress",(function(t){if(console.log("forbidSubmitWithEnter","works"),13===t.keyCode&&t.target.value.length<3)return t.preventDefault(),!1}))})();